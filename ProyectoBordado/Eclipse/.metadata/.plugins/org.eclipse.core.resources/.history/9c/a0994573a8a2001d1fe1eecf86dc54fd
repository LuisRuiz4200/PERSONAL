package arreglos;

import java.util.*;
import java.io.*;
import clases.*;
import reuzables.Custom;

public class ArregloEstiloOp {

	private ArrayList<EstiloOP> arrEstiloOp;
	
	public ArregloEstiloOp() {
		arrEstiloOp = new ArrayList<EstiloOP>();
		cargarEstiloOp();
	}
	
	//METODOS BASICOS
	
	public int tamaño() {
		return arrEstiloOp.size();
	}
	
	public EstiloOP obtener(int i) {
		return arrEstiloOp.get(i);
	}
	
	public void adicionar (EstiloOP estiloOp) {
		arrEstiloOp.add(estiloOp);
	}
	
	public void eliminar (EstiloOP estiloOp) {
		arrEstiloOp.remove(estiloOp);
	}
	
	//METODOS DE LECTURA Y ESCRITURA
	
	public void grabarEstiloOp() {
		PrintWriter pw = null;
		String texto;
		
		try {
			pw= new PrintWriter (new FileWriter("estiloOp.txt"));
			for (EstiloOP cliente:arrEstiloOp) {
				texto = cliente.getCodEstiloOp() + ";" +
						cliente.getDesEstiloOp() + ";" +
						cliente.getCodPrenda();
				
				pw.println(texto);
			}
		}catch(Exception e) {
			Custom.mensajeError(null, "Error al grabar contenido");
		}finally {
			pw.close();
		}
	}
	
	public void cargarEstiloOp() {
		BufferedReader br;
		String linea;
		String[] texto;
		
		try {
			br = new BufferedReader (new FileReader("estiloOp.txt"));
			while((linea=br.readLine())!=null) {
				texto = linea.split(";");
				EstiloOP estiloOp = new EstiloOP(
						Integer.parseInt(texto[0]),
						texto[1],
						Integer.parseInt(texto[2])
						);
				arrEstiloOp.add(estiloOp);
			}
			br.close();
		}catch (Exception e) {
			Custom.mensajeError(null, "Error al cargar contenido");
		}
		
		
	}
}
